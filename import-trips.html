<!DOCTYPE html>
<html>
<head>
    <title>–®–∏–Ω—Ç–æ—Ä–≥ - –ò–º–ø–æ—Ä—Ç –ø–æ–µ–∑–¥–æ–∫</title>
    <style>
        body { font-family: Arial; padding: 20px; background: #0a3a4a; }
        .container { max-width: 600px; margin: 0 auto; background: white; padding: 30px; border-radius: 30px; box-shadow: 0 0 30px rgba(0,0,0,0.2); }
        h1 { color: #0f5e7e; text-align: center; }
        .header { background: #0f5e7e; color: white; padding: 15px; border-radius: 15px; text-align: center; margin-bottom: 20px; }
        pre { background: #f5f5f5; padding: 15px; border-radius: 10px; max-height: 400px; overflow-y: auto; }
        .btn { background: #0f5e7e; color: white; border: none; padding: 15px 30px; border-radius: 50px; font-size: 18px; font-weight: bold; cursor: pointer; width: 100%; }
        .btn:hover { background: #0a405a; }
    </style>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>üöõ –®–ò–ù–¢–û–†–ì –°–£–†–ì–£–¢</h2>
            <p>–ò–º–ø–æ—Ä—Ç –ø–æ–µ–∑–¥–æ–∫ –∑–∞ –§–µ–≤—Ä–∞–ª—å 2026</p>
        </div>

        <div style="margin-bottom: 20px; padding: 15px; background: #e8f4fa; border-radius: 15px;">
            <h3>üìã –î–ê–ù–ù–´–ï –î–õ–Ø –ò–ú–ü–û–†–¢–ê:</h3>
            <p><strong>–≠–¥—É–∞—Ä–¥ –ê–±—Ä–∞–º–æ–≤</strong> - +79224433529 - 2 –ø–æ–µ–∑–¥–∫–∏ (2800 + 1400)</p>
            <p><strong>–¢–µ–º–∏—Ä–±–∞–µ–≤ –ê–ê</strong> - +79097103813 - 2 –ø–æ–µ–∑–¥–∫–∏ (1400 + 4900)</p>
            <p><strong>–ë–æ–π—á—É–∫ –í</strong> - +79128158503 - 1 –ø–æ–µ–∑–¥–∫–∞ (3000)</p>
            <p><strong>–ü–µ—Ä–µ–≤–æ–∑–∫–∏–Ω –ú–∏—Ö–∞–∏–ª</strong> - +79048782592 - 2 –ø–æ–µ–∑–¥–∫–∏ (1400 + 1400)</p>
            <p><strong>üí∞ –û–ë–©–ê–Ø –°–£–ú–ú–ê: 16 300 ‚ÇΩ</strong></p>
        </div>

        <div id="status" style="text-align: center; margin-bottom: 10px; font-weight: bold;"></div>
        <pre id="result">–ù–∞–∂–º–∏ –∫–Ω–æ–ø–∫—É –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏–º–ø–æ—Ä—Ç–∞...</pre>
        
        <button class="btn" onclick="importTrips()">‚ñ∂ –ó–ê–ü–£–°–¢–ò–¢–¨ –ò–ú–ü–û–†–¢</button>
    </div>

    <script>
        // üî• FIREBASE –ö–õ–Æ–ß–ò
        firebase.initializeApp({
            apiKey: "AIzaSyASdFFIJbPOvGCs0IP66pojpFfCO1FU81A",
            authDomain: "shintorg86-crm.firebaseapp.com",
            projectId: "shintorg86-crm",
            storageBucket: "shintorg86-crm.firebasestorage.app",
            messagingSenderId: "501323511960",
            appId: "1:501323511960:web:0cb6d55502d82aaf58f8ed"
        });

        const db = firebase.firestore();
        const status = document.getElementById('status');
        const result = document.getElementById('result');

        // ‚úÖ –¢–ï–õ–ï–§–û–ù–´ –í–û–î–ò–¢–ï–õ–ï–ô (–ü–†–ò–í–Ø–ó–ö–ê –ë–£–î–ï–¢ –ü–û –ù–ò–ú)
        const drivers = {
            "–≠–¥—É–∞—Ä–¥ –ê–±—Ä–∞–º–æ–≤": "+79224433529",
            "–¢–µ–º–∏—Ä–±–∞–µ–≤ –ê–ê": "+79097103813",
            "–ë–æ–π—á—É–∫ –í": "+79128158503",
            "–ü–µ—Ä–µ–≤–æ–∑–∫–∏–Ω –ú–∏—Ö–∞–∏–ª": "+79048782592"
        };

        // ‚úÖ –ü–û–ï–ó–î–ö–ò (–ü–†–ò–í–Ø–ó–ê–ù–´ –ö –¢–ï–õ–ï–§–û–ù–ê–ú)
        const trips = [
            // –≠–¥—É–∞—Ä–¥ –ê–±—Ä–∞–º–æ–≤
            {
                driverName: "–≠–¥—É–∞—Ä–¥ –ê–±—Ä–∞–º–æ–≤",
                phone: "+79224433529",
                date: "2026-02-10",
                type: "–≥–æ—Ä–æ–¥",
                hours: 2,
                earn: 2800,
                comment: "10:45-12:45"
            },
            {
                driverName: "–≠–¥—É–∞—Ä–¥ –ê–±—Ä–∞–º–æ–≤",
                phone: "+79224433529",
                date: "2026-02-13",
                type: "–≥–æ—Ä–æ–¥",
                hours: 1,
                earn: 1400,
                comment: "14:26-15:26"
            },
            
            // –¢–µ–º–∏—Ä–±–∞–µ–≤ –ê–ê
            {
                driverName: "–¢–µ–º–∏—Ä–±–∞–µ–≤ –ê–ê",
                phone: "+79097103813",
                date: "2026-02-11",
                type: "–≥–æ—Ä–æ–¥",
                hours: 1,
                earn: 1400,
                comment: "10:50-11:50"
            },
            {
                driverName: "–¢–µ–º–∏—Ä–±–∞–µ–≤ –ê–ê",
                phone: "+79097103813",
                date: "2026-02-16",
                type: "–≥–æ—Ä–æ–¥",
                hours: 3.5,
                earn: 4900,
                comment: "11:00-14:30"
            },
            
            // –ë–æ–π—á—É–∫ –í
            {
                driverName: "–ë–æ–π—á—É–∫ –í",
                phone: "+79128158503",
                date: "2026-02-11",
                type: "–º–µ–∂–≥–æ—Ä–æ–¥",
                direction: "–ü–æ–∫–∞—á–∏",
                earn: 3000,
                comment: "12:15 –¥–æ–≥—Ä—É–∑"
            },
            
            // –ü–µ—Ä–µ–≤–æ–∑–∫–∏–Ω –ú–∏—Ö–∞–∏–ª
            {
                driverName: "–ü–µ—Ä–µ–≤–æ–∑–∫–∏–Ω –ú–∏—Ö–∞–∏–ª",
                phone: "+79048782592",
                date: "2026-02-12",
                type: "–≥–æ—Ä–æ–¥",
                hours: 1,
                earn: 1400,
                comment: "14:40-15:40"
            },
            {
                driverName: "–ü–µ—Ä–µ–≤–æ–∑–∫–∏–Ω –ú–∏—Ö–∞–∏–ª",
                phone: "+79048782592",
                date: "2026-02-14",
                type: "–≥–æ—Ä–æ–¥",
                hours: 1,
                earn: 1400,
                comment: "14:39-15:39"
            }
        ];

        async function importTrips() {
            status.innerHTML = "‚è≥ –ò–ú–ü–û–†–¢ –ù–ê–ß–ê–¢...";
            result.innerHTML = "";
            
            let success = 0;
            let errors = 0;
            let totalEarn = 0;

            for (let i = 0; i < trips.length; i++) {
                const trip = trips[i];
                
                try {
                    const tripData = {
                        // ‚ö° –í–ê–ñ–ù–û: –ü–†–ò–í–Ø–ó–ö–ê –ò–î–ï–¢ –ü–û –¢–ï–õ–ï–§–û–ù–£ (driverId)
                        driverId: trip.phone,
                        driverName: trip.driverName,
                        date: trip.date,
                        type: trip.type,
                        earn: trip.earn,
                        comment: trip.comment || ""
                    };

                    if (trip.type === "–≥–æ—Ä–æ–¥") {
                        tripData.hours = trip.hours;
                    }

                    if (trip.type === "–º–µ–∂–≥–æ—Ä–æ–¥") {
                        tripData.direction = trip.direction;
                    }

                    tripData.timestamp = new Date().toISOString();

                    await db.collection('trips').add(tripData);
                    
                    result.innerHTML += `‚úÖ ${trip.driverName} - ${trip.date} - ${trip.earn}‚ÇΩ (—Ç–µ–ª: ${trip.phone})\n`;
                    success++;
                    totalEarn += trip.earn;
                } catch (e) {
                    result.innerHTML += `‚ùå –û—à–∏–±–∫–∞: ${trip.driverName} - ${e.message}\n`;
                    errors++;
                }
            }

            result.innerHTML += `\n‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n`;
            result.innerHTML += `üí∞ –û–ë–©–ò–ô –ó–ê–†–ê–ë–û–¢–û–ö: ${totalEarn} ‚ÇΩ\n`;
            result.innerHTML += `‚úÖ –£—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ: ${success}\n`;
            result.innerHTML += `‚ùå –û—à–∏–±–æ–∫: ${errors}\n`;
            result.innerHTML += `‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n`;
            result.innerHTML += `üì± –¢–ï–õ–ï–§–û–ù–´ –í–û–î–ò–¢–ï–õ–ï–ô (–¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏):\n`;
            
            for (let name in drivers) {
                result.innerHTML += `${name}: ${drivers[name]}\n`;
            }
            
            result.innerHTML += `\n‚úÖ –ò–ú–ü–û–†–¢ –ó–ê–í–ï–†–®–ï–ù!`;
            status.innerHTML = "‚úÖ –ò–ú–ü–û–†–¢ –í–´–ü–û–õ–ù–ï–ù –£–°–ü–ï–®–ù–û!";
        }
    </script>
</body>
</html>
